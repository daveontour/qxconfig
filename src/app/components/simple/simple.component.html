<div [ngClass]="{'d-none':this.topLevel}">
  <div class="row mt-1 ml-2" style="background-color:khakin">
    <div class="col-md-7 pl-1" style="background-color: white">
        <label [ngClass]="{'form-check-label':true, 'simple-label':true, 'noselect':true}" (click)="isCollapsed = !isCollapsed" style="color:#930F80;margin-bottom:initial; display: initial !important;font-weight: 100"
          placement="right" ngbPopover="{{config.annotation+'  '+this.elementPath}}" triggers="mouseenter:mouseleave" popoverTitle="{{config.name}}">{{config.name}}
        </label>

        <!-- The little arrow at the end of the name -->
        <span  
        style="margin-left: 2px; cursor: pointer"
        (click)="isCollapsed = !isCollapsed" 
        [ngClass]="{'right-arrow':isCollapsed && hasAttributes() && !hasRequiredAttributes(), 'down-arrow':!isCollapsed && hasAttributes() && !hasRequiredAttributes(), 'right-arrow-required':isCollapsed  && hasRequiredAttributes(), 'down-arrow-required':!isCollapsed && hasRequiredAttributes()}" >
        </span>


        <div *ngIf="showDeleteAction()" (click) = "this.remove()" style="float: right">
        <span class="DeleteAction"> </span>
        </div>
    </div>

    <!--  Start of the input element -->
    <div class="col-md-5">
      <template #control></template>
    </div>
    <!-- End of input element -->


  </div>
  <div [ngClass]="{'d-none':this.isCollapsed}">
    <template #attributes></template>
  </div>
</div>

<!-- The Top Level Heading to add more copies if maxOccurs > 0 -->
<div *ngIf="this.topLevel && this.config.minOccurs != 1 && ((this.siblingCounter) != config.maxOccurs)" class="addSibling">
  <a class="AdditionalAction2 align-items-center noselect" (click)="this.addSibling()" role="button">
    <span style="color:#930F80; cursor:pointer">Add {{config.name}}</span>
  </a>
  <span class="occurs noselect" *ngIf="config.maxOccurs > 100000"> ( Current: {{this.siblingCounter}} instances<span class="occurs noselect" *ngIf="this.siblingCounter == config.minOccurs && config.minOccurs != 0">, Minimum:{{config.minOccurs}}</span>)</span>
  <span class="occurs noselect" *ngIf="config.maxOccurs < 100000"> ( {{this.siblingCounter}} of {{config.maxOccurs}}<span class="occurs noselect" *ngIf="this.siblingCounter == config.minOccurs && config.minOccurs != 0">, Minimum:{{config.minOccurs}}</span>)</span>
</div>

<template #siblings></template>
