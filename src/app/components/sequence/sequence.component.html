<div *ngIf="this.topLevel; then topBlock; else siblingBlock"></div>

<!-- The Top block -->
<ng-template #topBlock>
  <div [ngClass]="{'d-none':!showTopBlock()}" class="addSibling">
    <a class="align-items-center noselect" (click)="this.addSibling()">

        <svg class="svg-inline--fa fa-plus-circle fa-w-16 fa-1x"
        role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
        <path id="add" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"></path>
      </svg>
      
      <span style="color:#930F80; cursor: pointer;">Add {{config.name}} Sequence</span>
    </a>
    <span class="occurs noselect" *ngIf="config.maxOccurs > 100000"> ( Current: {{this.siblingCounter}} instances <span
        class="occurs noselect" *ngIf="this.siblingCounter == config.minOccurs && config.minOccurs != 0">,
        Minimum:{{config.minOccurs}}</span>)</span>
    <span class="occurs noselect" *ngIf="config.maxOccurs < 100000">
      ( {{this.siblingCounter}} of {{config.maxOccurs}}
      <span class="occurs noselect" *ngIf="this.siblingCounter == config.minOccurs && config.minOccurs != 0">,
        Minimum:{{config.minOccurs}}</span>)</span>
  </div>
  <template #siblings></template>
</ng-template>

<!-- The block that actually holds the data-->
<ng-template #siblingBlock>
  <owl-accordion>
    <owl-expansion-panel [expanded]='true' [ngClass]="{'oddDepth':isOddDepth(),'evenDepth':isEvenDepth(),'d-none':(this.topLevel),'mb-1':'true'}">
      <owl-expansion-panel-header style="background: rgba(0,0,0,0.1)">
        <owl-expansion-panel-title [ngClass]="{'form-check-label':true, 'h6':true, 'noselect':true}">
          {{config.name}}
        </owl-expansion-panel-title>
        <owl-expansion-panel-description>
          {{config.description}}
        </owl-expansion-panel-description>
        <div *ngIf="(!this.isRoot && this.parent.siblingCounter != config.minOccurs)" (click)="this.remove()" style="float: right">

          <svg class="svg-inline--fa fa-minus-circle fa-w-16 fa-1x "
            role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
            <path id="delete" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"></path>
          </svg>

        </div>
      </owl-expansion-panel-header>

      <!-- <editor-fold desc="dummy text"> -->
      <!-- <div [ngClass]="{'d-none':this.isCollapsed}"> -->
      <div style="margin-bottom: 4px"><template #attributes></template></div>
      <div class="col-12" style="padding-left: 4px; padding-right: 4px;">
        <template #container></template>
      </div>
      <!-- </editor-fold> -->
    </owl-expansion-panel>
  </owl-accordion>
</ng-template>
